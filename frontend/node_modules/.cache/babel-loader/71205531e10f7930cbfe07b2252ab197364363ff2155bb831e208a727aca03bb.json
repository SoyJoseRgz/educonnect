{"ast":null,"code":"import React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import{Box,CircularProgress,Typography}from'@mui/material';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const ProtectedRoute=_ref=>{let{children,fallback}=_ref;const{isAuthenticated,isLoading}=useAuth();const navigate=useNavigate();// Redirect to login if not authenticated and not loading\nuseEffect(()=>{if(!isLoading&&!isAuthenticated){navigate('/login');}},[isAuthenticated,isLoading,navigate]);// Show loading spinner while checking authentication\nif(isLoading){return/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",minHeight:\"100vh\",gap:2,children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Verificando autenticaci\\xF3n...\"})]});}// If authenticated, render children\nif(isAuthenticated){return/*#__PURE__*/_jsx(_Fragment,{children:children});}// If not authenticated, show fallback while redirecting\nif(fallback){return/*#__PURE__*/_jsx(_Fragment,{children:fallback});}// Show loading while redirecting to login\nreturn/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",minHeight:\"100vh\",gap:2,children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Redirigiendo al login...\"})]});};","map":{"version":3,"names":["React","useEffect","useNavigate","Box","CircularProgress","Typography","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProtectedRoute","_ref","children","fallback","isAuthenticated","isLoading","navigate","display","flexDirection","alignItems","justifyContent","minHeight","gap","variant","color"],"sources":["/home/joserodriguez/educonnect/frontend/src/components/ProtectedRoute.tsx"],"sourcesContent":["import React, { ReactNode, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, CircularProgress, Typography } from '@mui/material';\nimport { useAuth } from '../contexts/AuthContext';\n\ninterface ProtectedRouteProps {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ \n  children, \n  fallback \n}) => {\n  const { isAuthenticated, isLoading } = useAuth();\n  const navigate = useNavigate();\n\n  // Redirect to login if not authenticated and not loading\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      navigate('/login');\n    }\n  }, [isAuthenticated, isLoading, navigate]);\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n        minHeight=\"100vh\"\n        gap={2}\n      >\n        <CircularProgress />\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          Verificando autenticaci√≥n...\n        </Typography>\n      </Box>\n    );\n  }\n\n  // If authenticated, render children\n  if (isAuthenticated) {\n    return <>{children}</>;\n  }\n\n  // If not authenticated, show fallback while redirecting\n  if (fallback) {\n    return <>{fallback}</>;\n  }\n\n  // Show loading while redirecting to login\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      minHeight=\"100vh\"\n      gap={2}\n    >\n      <CircularProgress />\n      <Typography variant=\"body2\" color=\"text.secondary\">\n        Redirigiendo al login...\n      </Typography>\n    </Box>\n  );\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAeC,SAAS,KAAQ,OAAO,CACnD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,GAAG,CAAEC,gBAAgB,CAAEC,UAAU,KAAQ,eAAe,CACjE,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAOlD,MAAO,MAAM,CAAAC,cAA6C,CAAGC,IAAA,EAGvD,IAHwD,CAC5DC,QAAQ,CACRC,QACF,CAAC,CAAAF,IAAA,CACC,KAAM,CAAEG,eAAe,CAAEC,SAAU,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAChD,KAAM,CAAAa,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9B;AACAD,SAAS,CAAC,IAAM,CACd,GAAI,CAACiB,SAAS,EAAI,CAACD,eAAe,CAAE,CAClCE,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAE,CAACF,eAAe,CAAEC,SAAS,CAAEC,QAAQ,CAAC,CAAC,CAE1C;AACA,GAAID,SAAS,CAAE,CACb,mBACER,KAAA,CAACP,GAAG,EACFiB,OAAO,CAAC,MAAM,CACdC,aAAa,CAAC,QAAQ,CACtBC,UAAU,CAAC,QAAQ,CACnBC,cAAc,CAAC,QAAQ,CACvBC,SAAS,CAAC,OAAO,CACjBC,GAAG,CAAE,CAAE,CAAAV,QAAA,eAEPP,IAAA,CAACJ,gBAAgB,GAAE,CAAC,cACpBI,IAAA,CAACH,UAAU,EAACqB,OAAO,CAAC,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAAZ,QAAA,CAAC,iCAEnD,CAAY,CAAC,EACV,CAAC,CAEV,CAEA;AACA,GAAIE,eAAe,CAAE,CACnB,mBAAOT,IAAA,CAAAI,SAAA,EAAAG,QAAA,CAAGA,QAAQ,CAAG,CAAC,CACxB,CAEA;AACA,GAAIC,QAAQ,CAAE,CACZ,mBAAOR,IAAA,CAAAI,SAAA,EAAAG,QAAA,CAAGC,QAAQ,CAAG,CAAC,CACxB,CAEA;AACA,mBACEN,KAAA,CAACP,GAAG,EACFiB,OAAO,CAAC,MAAM,CACdC,aAAa,CAAC,QAAQ,CACtBC,UAAU,CAAC,QAAQ,CACnBC,cAAc,CAAC,QAAQ,CACvBC,SAAS,CAAC,OAAO,CACjBC,GAAG,CAAE,CAAE,CAAAV,QAAA,eAEPP,IAAA,CAACJ,gBAAgB,GAAE,CAAC,cACpBI,IAAA,CAACH,UAAU,EAACqB,OAAO,CAAC,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAAZ,QAAA,CAAC,0BAEnD,CAAY,CAAC,EACV,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}