{"ast":null,"code":"var _jsxFileName = \"/home/joserodriguez/educonnect/frontend/src/components/ProtectedRoute.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, CircularProgress, Typography } from '@mui/material';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ProtectedRoute = ({\n  children,\n  fallback\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    isLoading\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // Redirect to login if not authenticated and not loading\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      navigate('/login');\n    }\n  }, [isAuthenticated, isLoading, navigate]);\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      minHeight: \"100vh\",\n      gap: 2,\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: \"Verificando autenticaci\\xF3n...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If authenticated, render children\n  if (isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false);\n  }\n\n  // If not authenticated, show fallback while redirecting\n  if (fallback) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: fallback\n    }, void 0, false);\n  }\n\n  // Show loading while redirecting to login\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    minHeight: \"100vh\",\n    gap: 2,\n    children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      children: \"Redirigiendo al login...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(ProtectedRoute, \"yoRMR5p13DEmhMY1jTIFS3Q/c74=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","useEffect","useNavigate","Box","CircularProgress","Typography","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","ProtectedRoute","children","fallback","_s","isAuthenticated","isLoading","navigate","display","flexDirection","alignItems","justifyContent","minHeight","gap","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","_c","$RefreshReg$"],"sources":["/home/joserodriguez/educonnect/frontend/src/components/ProtectedRoute.tsx"],"sourcesContent":["import React, { ReactNode, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, CircularProgress, Typography } from '@mui/material';\nimport { useAuth } from '../contexts/AuthContext';\n\ninterface ProtectedRouteProps {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ \n  children, \n  fallback \n}) => {\n  const { isAuthenticated, isLoading } = useAuth();\n  const navigate = useNavigate();\n\n  // Redirect to login if not authenticated and not loading\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      navigate('/login');\n    }\n  }, [isAuthenticated, isLoading, navigate]);\n\n  // Show loading spinner while checking authentication\n  if (isLoading) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n        minHeight=\"100vh\"\n        gap={2}\n      >\n        <CircularProgress />\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          Verificando autenticaci√≥n...\n        </Typography>\n      </Box>\n    );\n  }\n\n  // If authenticated, render children\n  if (isAuthenticated) {\n    return <>{children}</>;\n  }\n\n  // If not authenticated, show fallback while redirecting\n  if (fallback) {\n    return <>{fallback}</>;\n  }\n\n  // Show loading while redirecting to login\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      minHeight=\"100vh\"\n      gap={2}\n    >\n      <CircularProgress />\n      <Typography variant=\"body2\" color=\"text.secondary\">\n        Redirigiendo al login...\n      </Typography>\n    </Box>\n  );\n};"],"mappings":";;AAAA,OAAOA,KAAK,IAAeC,SAAS,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,GAAG,EAAEC,gBAAgB,EAAEC,UAAU,QAAQ,eAAe;AACjE,SAASC,OAAO,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAOlD,OAAO,MAAMC,cAA6C,GAAGA,CAAC;EAC5DC,QAAQ;EACRC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM;IAAEC,eAAe;IAAEC;EAAU,CAAC,GAAGV,OAAO,CAAC,CAAC;EAChD,MAAMW,QAAQ,GAAGf,WAAW,CAAC,CAAC;;EAE9B;EACAD,SAAS,CAAC,MAAM;IACd,IAAI,CAACe,SAAS,IAAI,CAACD,eAAe,EAAE;MAClCE,QAAQ,CAAC,QAAQ,CAAC;IACpB;EACF,CAAC,EAAE,CAACF,eAAe,EAAEC,SAAS,EAAEC,QAAQ,CAAC,CAAC;;EAE1C;EACA,IAAID,SAAS,EAAE;IACb,oBACER,OAAA,CAACL,GAAG;MACFe,OAAO,EAAC,MAAM;MACdC,aAAa,EAAC,QAAQ;MACtBC,UAAU,EAAC,QAAQ;MACnBC,cAAc,EAAC,QAAQ;MACvBC,SAAS,EAAC,OAAO;MACjBC,GAAG,EAAE,CAAE;MAAAX,QAAA,gBAEPJ,OAAA,CAACJ,gBAAgB;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACpBnB,OAAA,CAACH,UAAU;QAACuB,OAAO,EAAC,OAAO;QAACC,KAAK,EAAC,gBAAgB;QAAAjB,QAAA,EAAC;MAEnD;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAEV;;EAEA;EACA,IAAIZ,eAAe,EAAE;IACnB,oBAAOP,OAAA,CAAAE,SAAA;MAAAE,QAAA,EAAGA;IAAQ,gBAAG,CAAC;EACxB;;EAEA;EACA,IAAIC,QAAQ,EAAE;IACZ,oBAAOL,OAAA,CAAAE,SAAA;MAAAE,QAAA,EAAGC;IAAQ,gBAAG,CAAC;EACxB;;EAEA;EACA,oBACEL,OAAA,CAACL,GAAG;IACFe,OAAO,EAAC,MAAM;IACdC,aAAa,EAAC,QAAQ;IACtBC,UAAU,EAAC,QAAQ;IACnBC,cAAc,EAAC,QAAQ;IACvBC,SAAS,EAAC,OAAO;IACjBC,GAAG,EAAE,CAAE;IAAAX,QAAA,gBAEPJ,OAAA,CAACJ,gBAAgB;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACpBnB,OAAA,CAACH,UAAU;MAACuB,OAAO,EAAC,OAAO;MAACC,KAAK,EAAC,gBAAgB;MAAAjB,QAAA,EAAC;IAEnD;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEV,CAAC;AAACb,EAAA,CA3DWH,cAA6C;EAAA,QAIjBL,OAAO,EAC7BJ,WAAW;AAAA;AAAA4B,EAAA,GALjBnB,cAA6C;AAAA,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}